{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bobing%20Corp/Desktop/bobing-ssot-new/app/categories/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from 'react';\r\nimport { db } from '@/lib/firebase';\r\nimport { collection, getDocs, addDoc, doc, updateDoc, deleteDoc, query, orderBy, serverTimestamp } from 'firebase/firestore';\r\n\r\nexport default function CategoriesPage() {\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [formData, setFormData] = useState({});\r\n\r\n    useEffect(() => { fetchData(); }, []);\r\n    const fetchData = async () => { try { const s = await getDocs(query(collection(db, \"categories\"), orderBy(\"name\"))); const d=[]; s.forEach(x=>d.push({id:x.id,...x.data()})); setData(d); } catch(e){} finally{setLoading(false)} };\r\n    const handleSubmit = async (e) => { e.preventDefault(); try { if(formData.id) await updateDoc(doc(db,\"categories\",formData.id), formData); else await addDoc(collection(db,\"categories\"), {...formData, created_at: serverTimestamp()}); setModalOpen(false); fetchData(); } catch(e){alert(e.message)} };\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto space-y-6 fade-in\">\r\n            <div className=\"flex justify-between items-center\"><h2 className=\"text-2xl font-bold text-lumina-text\">Categories</h2><button onClick={()=>{setFormData({name:''}); setModalOpen(true)}} className=\"btn-gold\">Add Category</button></div>\r\n            <div className=\"card-luxury overflow-hidden\"><table className=\"table-dark w-full\"><thead><tr><th className=\"pl-6\">Category Name</th><th className=\"text-right pr-6\">Act</th></tr></thead><tbody>{data.map(c=><tr key={c.id}><td className=\"pl-6 text-white font-medium\">{c.name}</td><td className=\"text-right pr-6\"><button onClick={()=>{setFormData({...c}); setModalOpen(true)}} className=\"text-xs text-lumina-gold\">Edit</button></td></tr>)}</tbody></table></div>\r\n            {modalOpen && <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4\"><div className=\"bg-lumina-surface border border-lumina-border rounded-2xl p-6 w-full max-w-sm\"><h3 className=\"text-lg font-bold text-white mb-4\">Category Form</h3><form onSubmit={handleSubmit} className=\"space-y-4\"><input className=\"input-luxury\" placeholder=\"Category Name\" value={formData.name} onChange={e=>setFormData({...formData,name:e.target.value})}/><div className=\"flex justify-end gap-2\"><button type=\"button\" onClick={()=>setModalOpen(false)} className=\"btn-ghost-dark\">Cancel</button><button className=\"btn-gold\">Save</button></div></form></div></div>}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;;;AAHA;;;;AAKe,SAAS;;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,CAAC;IAE1C,IAAA,0KAAS;oCAAC;YAAQ;QAAa;mCAAG,EAAE;IACpC,MAAM,YAAY;QAAc,IAAI;YAAE,MAAM,IAAI,MAAM,IAAA,iLAAO,EAAC,IAAA,+KAAK,EAAC,IAAA,oLAAU,EAAC,wHAAE,EAAE,eAAe,IAAA,iLAAO,EAAC;YAAW,MAAM,IAAE,EAAE;YAAE,EAAE,OAAO,CAAC,CAAA,IAAG,EAAE,IAAI,CAAC;oBAAC,IAAG,EAAE,EAAE;oBAAC,GAAG,EAAE,IAAI,EAAE;gBAAA;YAAK,QAAQ;QAAI,EAAE,OAAM,GAAE,CAAC,SAAS;YAAC,WAAW;QAAM;IAAE;IAClO,MAAM,eAAe,OAAO;QAAQ,EAAE,cAAc;QAAI,IAAI;YAAE,IAAG,SAAS,EAAE,EAAE,MAAM,IAAA,mLAAS,EAAC,IAAA,6KAAG,EAAC,wHAAE,EAAC,cAAa,SAAS,EAAE,GAAG;iBAAgB,MAAM,IAAA,gLAAM,EAAC,IAAA,oLAAU,EAAC,wHAAE,EAAC,eAAe;gBAAC,GAAG,QAAQ;gBAAE,YAAY,IAAA,yLAAe;YAAE;YAAI,aAAa;YAAQ;QAAa,EAAE,OAAM,GAAE;YAAC,MAAM,EAAE,OAAO;QAAC;IAAE;IAExS,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCAAoC,6LAAC;wBAAG,WAAU;kCAAsC;;;;;;kCAAe,6LAAC;wBAAO,SAAS;4BAAK,YAAY;gCAAC,MAAK;4BAAE;4BAAI,aAAa;wBAAK;wBAAG,WAAU;kCAAW;;;;;;;;;;;;0BAC9M,6LAAC;gBAAI,WAAU;0BAA8B,cAAA,6LAAC;oBAAM,WAAU;;sCAAoB,6LAAC;sCAAM,cAAA,6LAAC;;kDAAG,6LAAC;wCAAG,WAAU;kDAAO;;;;;;kDAAkB,6LAAC;wCAAG,WAAU;kDAAkB;;;;;;;;;;;;;;;;;sCAAqB,6LAAC;sCAAO,KAAK,GAAG,CAAC,CAAA,kBAAG,6LAAC;;sDAAc,6LAAC;4CAAG,WAAU;sDAA+B,EAAE,IAAI;;;;;;sDAAM,6LAAC;4CAAG,WAAU;sDAAkB,cAAA,6LAAC;gDAAO,SAAS;oDAAK,YAAY;wDAAC,GAAG,CAAC;oDAAA;oDAAI,aAAa;gDAAK;gDAAG,WAAU;0DAA2B;;;;;;;;;;;;mCAApM,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;YACzN,2BAAa,6LAAC;gBAAI,WAAU;0BAAsE,cAAA,6LAAC;oBAAI,WAAU;;sCAAgF,6LAAC;4BAAG,WAAU;sCAAoC;;;;;;sCAAkB,6LAAC;4BAAK,UAAU;4BAAc,WAAU;;8CAAY,6LAAC;oCAAM,WAAU;oCAAe,aAAY;oCAAgB,OAAO,SAAS,IAAI;oCAAE,UAAU,CAAA,IAAG,YAAY;4CAAC,GAAG,QAAQ;4CAAC,MAAK,EAAE,MAAM,CAAC,KAAK;wCAAA;;;;;;8CAAK,6LAAC;oCAAI,WAAU;;sDAAyB,6LAAC;4CAAO,MAAK;4CAAS,SAAS,IAAI,aAAa;4CAAQ,WAAU;sDAAiB;;;;;;sDAAe,6LAAC;4CAAO,WAAU;sDAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAG7nB;GAjBwB;KAAA"}}]
}