{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bobing%20Corp/Desktop/bobing-ssot-new/lib/utils.js"],"sourcesContent":["// lib/utils.js\r\nexport const formatRupiah = (n) => {\r\n  return new Intl.NumberFormat('id-ID', {\r\n    style: 'currency',\r\n    currency: 'IDR',\r\n    minimumFractionDigits: 0\r\n  }).format(n);\r\n};\r\n\r\nexport const sizeRank = ['ALL','ALL SIZE','ALLSIZE','XXXS','XXS','XS','S','M','L','XL','XXL','2XL','3XL','XXXL','4XL','5XL'];\r\n\r\nexport const sortBySize = (variantA, variantB) => {\r\n  const sizeA = (variantA.size || '').toUpperCase().trim();\r\n  const sizeB = (variantB.size || '').toUpperCase().trim();\r\n  const idxA = sizeRank.indexOf(sizeA);\r\n  const idxB = sizeRank.indexOf(sizeB);\r\n  \r\n  if (idxA !== -1 && idxB !== -1) return idxA - idxB;\r\n  if (idxA !== -1) return -1; \r\n  if (idxB !== -1) return 1;\r\n  \r\n  const colorCompare = (variantA.color || '').localeCompare(variantB.color || '');\r\n  if (colorCompare !== 0) return colorCompare;\r\n  \r\n  return (variantA.sku || '').localeCompare(variantB.sku || '');\r\n};"],"names":[],"mappings":"AAAA,eAAe;;;;;;;;;AACR,MAAM,eAAe,CAAC;IAC3B,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,MAAM,WAAW;IAAC;IAAM;IAAW;IAAU;IAAO;IAAM;IAAK;IAAI;IAAI;IAAI;IAAK;IAAM;IAAM;IAAM;IAAO;IAAM;CAAM;AAErH,MAAM,aAAa,CAAC,UAAU;IACnC,MAAM,QAAQ,CAAC,SAAS,IAAI,IAAI,EAAE,EAAE,WAAW,GAAG,IAAI;IACtD,MAAM,QAAQ,CAAC,SAAS,IAAI,IAAI,EAAE,EAAE,WAAW,GAAG,IAAI;IACtD,MAAM,OAAO,SAAS,OAAO,CAAC;IAC9B,MAAM,OAAO,SAAS,OAAO,CAAC;IAE9B,IAAI,SAAS,CAAC,KAAK,SAAS,CAAC,GAAG,OAAO,OAAO;IAC9C,IAAI,SAAS,CAAC,GAAG,OAAO,CAAC;IACzB,IAAI,SAAS,CAAC,GAAG,OAAO;IAExB,MAAM,eAAe,CAAC,SAAS,KAAK,IAAI,EAAE,EAAE,aAAa,CAAC,SAAS,KAAK,IAAI;IAC5E,IAAI,iBAAiB,GAAG,OAAO;IAE/B,OAAO,CAAC,SAAS,GAAG,IAAI,EAAE,EAAE,aAAa,CAAC,SAAS,GAAG,IAAI;AAC5D"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bobing%20Corp/Desktop/bobing-ssot-new/app/dashboard/page.js"],"sourcesContent":["// app/dashboard/page.js\r\n\"use client\";\r\nimport { useEffect, useState } from 'react';\r\nimport { db } from '@/lib/firebase';\r\nimport { collection, getDocs, query, where, orderBy } from 'firebase/firestore';\r\nimport { formatRupiah } from '@/lib/utils';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\r\nimport { Line, Doughnut } from 'react-chartjs-2';\r\n\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ArcElement);\r\n\r\nexport default function Dashboard() {\r\n    const [stats, setStats] = useState({ gross: 0, net: 0, profit: 0, margin: 0, count: 0 });\r\n    const [loading, setLoading] = useState(true);\r\n    const [filterRange, setFilterRange] = useState('this_month');\r\n    const [chartTrendData, setChartTrendData] = useState(null);\r\n    const [chartChannelData, setChartChannelData] = useState(null);\r\n    const [topProducts, setTopProducts] = useState([]);\r\n\r\n    // ... (LOGIC loadData SAMA PERSIS SEPERTI SEBELUMNYA, TIDAK PERLU DIUBAH) ...\r\n    // Copas logic useEffect loadData dari file sebelumnya di sini\r\n    // Agar tidak kepanjangan, saya hanya tulis UI render barunya di bawah:\r\n    \r\n    // --- MOCK LOGIC UNTUK RENDER (Ganti dengan logic asli Anda) ---\r\n    useEffect(() => {\r\n        // Panggil logic fetch data asli Anda di sini\r\n        // Untuk demo UI, saya set loading false\r\n        setTimeout(() => setLoading(false), 1000);\r\n    }, [filterRange]);\r\n    // -------------------------------------------------------------\r\n\r\n    return (\r\n        <div className=\"max-w-7xl mx-auto space-y-8 fade-in pb-20\">\r\n            {/* HEADER SECTION */}\r\n            <div className=\"flex flex-col md:flex-row justify-between items-end md:items-center gap-4\">\r\n                <div>\r\n                    <h2 className=\"text-3xl font-extrabold text-slate-800 tracking-tight\">Executive Dashboard</h2>\r\n                    <p className=\"text-slate-500 mt-1 font-medium\">Overview performa bisnis & kesehatan finansial.</p>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center gap-3 bg-white p-1.5 rounded-xl shadow-sm border border-slate-200\">\r\n                    <span className=\"text-xs font-bold text-slate-400 pl-3 uppercase tracking-wider\">Periode:</span>\r\n                    <select \r\n                        value={filterRange}\r\n                        onChange={(e) => setFilterRange(e.target.value)}\r\n                        className=\"text-sm border-none bg-transparent focus:ring-0 text-slate-700 font-bold cursor-pointer py-1.5 pl-2 pr-8 rounded-lg hover:bg-slate-50 transition-colors\"\r\n                    >\r\n                        <option value=\"today\">Hari Ini</option>\r\n                        <option value=\"this_month\">Bulan Ini</option>\r\n                        <option value=\"last_month\">Bulan Lalu</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            {/* KPI CARDS */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                <KpiCard \r\n                    title=\"Total Omzet\" \r\n                    value={loading ? '...' : formatRupiah(stats.gross)} \r\n                    sub={`${stats.count} Transaksi`} \r\n                    icon=\"ðŸ’°\"\r\n                    trend=\"up\"\r\n                    color=\"indigo\"\r\n                />\r\n                <KpiCard \r\n                    title=\"Net Income (Cair)\" \r\n                    value={loading ? '...' : formatRupiah(stats.net)} \r\n                    sub=\"Cash In Hand\" \r\n                    icon=\"bf\"\r\n                    trend=\"neutral\"\r\n                    color=\"emerald\"\r\n                />\r\n                <KpiCard \r\n                    title=\"Est. Profit\" \r\n                    value={loading ? '...' : formatRupiah(stats.profit)} \r\n                    sub=\"Net - HPP\" \r\n                    icon=\"ðŸ“ˆ\"\r\n                    trend=\"up\"\r\n                    color=\"violet\"\r\n                />\r\n                <KpiCard \r\n                    title=\"Profit Margin\" \r\n                    value={loading ? '...' : `${stats.margin}%`} \r\n                    sub=\"Efisiensi\" \r\n                    icon=\"aa\"\r\n                    trend={stats.margin > 20 ? \"up\" : \"down\"}\r\n                    color={stats.margin > 0 ? \"amber\" : \"rose\"}\r\n                />\r\n            </div>\r\n\r\n            {/* CHARTS SECTION */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                <div className=\"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-100 card-hover\">\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <h3 className=\"text-base font-bold text-slate-800 flex items-center gap-2\">\r\n                            <span className=\"w-2 h-6 bg-blue-500 rounded-full\"></span>\r\n                            Tren Penjualan\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"h-80 w-full relative\">\r\n                        {/* Render Chart Component Here */}\r\n                        {chartTrendData ? <Line data={chartTrendData} options={{ responsive: true, maintainAspectRatio: false }} /> : <div className=\"h-full flex items-center justify-center text-slate-300\">Chart Data Loading...</div>}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 card-hover flex flex-col\">\r\n                    <h3 className=\"text-base font-bold text-slate-800 mb-6 flex items-center gap-2\">\r\n                        <span className=\"w-2 h-6 bg-orange-500 rounded-full\"></span>\r\n                        Market Share\r\n                    </h3>\r\n                    <div className=\"h-64 w-full relative flex justify-center items-center flex-1\">\r\n                         {/* Render Doughnut Component Here */}\r\n                         {chartChannelData ? <Doughnut data={chartChannelData} options={{ responsive: true, maintainAspectRatio: false, cutout: '75%' }} /> : <div className=\"text-slate-300\">Loading...</div>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* TABLE SECTION */}\r\n            <div className=\"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden card-hover\">\r\n                <div className=\"px-8 py-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/30\">\r\n                    <h3 className=\"font-bold text-slate-800 text-lg\">ðŸ”¥ Top Produk Terlaris</h3>\r\n                    <button className=\"text-sm font-bold text-indigo-600 hover:text-indigo-700 transition-colors\">Lihat Semua &rarr;</button>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full table-modern\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th className=\"pl-8\">Nama Produk</th>\r\n                                <th className=\"text-center\">Terjual</th>\r\n                                <th className=\"text-right pr-8\">Est. Revenue</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {topProducts.length === 0 ? (\r\n                                <tr><td colSpan=\"3\" className=\"text-center py-8 text-slate-400 italic\">Belum ada data penjualan.</td></tr>\r\n                            ) : (\r\n                                topProducts.map(([sku, qty], idx) => (\r\n                                    <tr key={idx}>\r\n                                        <td className=\"pl-8 font-medium text-slate-700\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"w-8 h-8 rounded bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200\">\r\n                                                    {idx + 1}\r\n                                                </div>\r\n                                                {sku}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"text-center\">\r\n                                            <span className=\"bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-xs font-bold\">{qty} unit</span>\r\n                                        </td>\r\n                                        <td className=\"text-right pr-8 text-slate-500\">-</td>\r\n                                    </tr>\r\n                                ))\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Component KPI Card Baru yang Lebih Modern\r\nfunction KpiCard({ title, value, sub, icon, color, trend }) {\r\n    // Mapping warna untuk border & text\r\n    const colorMap = {\r\n        indigo: 'border-l-4 border-indigo-500 text-indigo-600',\r\n        emerald: 'border-l-4 border-emerald-500 text-emerald-600',\r\n        violet: 'border-l-4 border-violet-500 text-violet-600',\r\n        amber: 'border-l-4 border-amber-500 text-amber-600',\r\n        rose: 'border-l-4 border-rose-500 text-rose-600',\r\n    };\r\n\r\n    return (\r\n        <div className={`bg-white p-6 rounded-2xl shadow-sm border border-slate-100 card-hover relative overflow-hidden ${colorMap[color] || ''}`}>\r\n            <div className=\"flex justify-between items-start relative z-10\">\r\n                <div>\r\n                    <p className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1\">{title}</p>\r\n                    <h3 className=\"text-3xl font-extrabold text-slate-800 tracking-tight\">{value}</h3>\r\n                </div>\r\n                <div className={`p-3 rounded-xl bg-slate-50 text-xl shadow-inner`}>\r\n                    {icon === 'bf' ? 'ðŸ’¼' : (icon==='aa' ? 'ðŸ“Š' : icon)}\r\n                </div>\r\n            </div>\r\n            <div className=\"mt-4 flex items-center gap-2 relative z-10\">\r\n                {trend === 'up' && <span className=\"text-emerald-500 text-xs font-bold bg-emerald-50 px-2 py-0.5 rounded-full\">â†— Naik</span>}\r\n                {trend === 'down' && <span className=\"text-rose-500 text-xs font-bold bg-rose-50 px-2 py-0.5 rounded-full\">â†˜ Turun</span>}\r\n                <p className=\"text-xs text-slate-400 font-medium\">{sub}</p>\r\n            </div>\r\n            \r\n            {/* Dekorasi Background Abstrak */}\r\n            <div className=\"absolute -bottom-4 -right-4 w-24 h-24 bg-gradient-to-br from-slate-50 to-slate-100 rounded-full opacity-50 z-0 pointer-events-none\"></div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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"}}]
}